(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{tmrb:function(t,e,i){"use strict";i.r(e),i.d(e,"Tab1PageModule",function(){return v});var n=i("sYmb"),c=i("TEn/"),r=i("ofXK"),s=i("3Pt+"),a=i("tyNb"),o=i("mrSG"),l=i("vgIa"),b=i("fXoL"),d=i("tk/3");let m=(()=>{class t{constructor(t){this.httpClient=t}getMediaItem(t){return this.httpClient.get("https://raw.githubusercontent.com/svenia/mcu-viewing-order-data/main/listing/viewing-order_"+t+".json")}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(d.a))},t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=i("eHuo");let h=(()=>{class t{transform(e,i){return i&&e?t.filter(e,i):e}static filter(t,e){const i=e.toLowerCase();function n(t,e){for(let c in t)if(null!==t[c]&&null!=t[c]){if("object"==typeof t[c]&&n(t[c],e))return!0;if(t[c].toString().toLowerCase().includes(i))return!0}return!1}return t.filter(function(t){return n(t,e)})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=b.Ib({name:"filter",type:t,pure:!1}),t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac}),t})(),f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({}),t})();function p(t,e){if(1&t){const t=b.Nb();b.Mb(0,"ion-avatar",7),b.Ub("click",function(){b.gc(t);const e=b.Wb(),i=e.$implicit,n=e.index;return b.Wb().markItem(i.id,n)}),b.Kb(1,"img",8),b.Lb()}if(2&t){const t=b.Wb().$implicit;b.zb(1),b.cc("src",t.cover_url,b.ic)}}function g(t,e){if(1&t&&(b.Mb(0,"ion-avatar",9),b.Kb(1,"img",8),b.Lb()),2&t){const t=b.Wb().$implicit;b.zb(1),b.cc("src",t.cover_url,b.ic)}}function I(t,e){if(1&t){const t=b.Nb();b.Mb(0,"ion-item"),b.kc(1,p,2,1,"ion-avatar",4),b.kc(2,g,2,1,"ion-avatar",5),b.Mb(3,"ion-label",6),b.Ub("click",function(){b.gc(t);const i=e.$implicit;return b.Wb().showDetails(i.id)}),b.Mb(4,"h2"),b.mc(5),b.Lb(),b.Mb(6,"p"),b.mc(7),b.Lb(),b.Lb(),b.Lb()}if(2&t){const t=e.$implicit;b.zb(1),b.cc("ngIf","0"==t.episodes_to_watch),b.zb(1),b.cc("ngIf","0"!==t.episodes_to_watch),b.zb(1),b.cc("color",t.isWatched?"medium":"light"),b.zb(2),b.nc(t.title),b.zb(2),b.nc(t.overview)}}const M=[{path:"",component:(()=>{class t{constructor(t,e,i){this.modalController=t,this.dataService=e,this.languageService=i,this.watchedMediaItems=[]}ngOnInit(){this.startDataProcessing()}startDataProcessing(){null!==localStorage.getItem("watchedMediaItems")&&(this.watchedMediaItems=JSON.parse(localStorage.getItem("watchedMediaItems"))),this.dataService.getMediaItem(this.languageService.getCurrentLanguage()).subscribe(t=>{this.mediaItems=t,this.processMediaItems()})}markItem(t,e){this.mediaItems[e].isWatched=!this.mediaItems[e].isWatched,this.watchedMediaItems.includes(t)?this.watchedMediaItems=this.watchedMediaItems.filter(e=>e!==t):(this.watchedMediaItems.push(t),localStorage.setItem("watchedMediaItems",JSON.stringify(this.watchedMediaItems)))}processMediaItems(){this.mediaItems.forEach(t=>{t.isWatched=!!this.watchedMediaItems.includes(t.id),null!==localStorage.getItem(t.id+"_watchedEpisodeItems")&&JSON.parse(localStorage.getItem(t.id+"_watchedEpisodeItems")).length==t.id.substr(5,t.id.length)&&this.markItem(t.id,0)})}showDetails(t){return Object(o.a)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:l.a,componentProps:{mediaItem:this.mediaItems.find(e=>e.id===t)}});return e.onDidDismiss().then(t=>{this.startDataProcessing()}),yield e.present()})}}return t.\u0275fac=function(e){return new(e||t)(b.Jb(c.B),b.Jb(m),b.Jb(u.a))},t.\u0275cmp=b.Db({type:t,selectors:[["app-tab1"]],decls:17,vars:14,consts:[["showCancelButton","focus",3,"placeholder","ngModel","ngModelChange"],["collapse","condense"],["size","large"],[4,"ngFor","ngForOf"],["slot","start",3,"click",4,"ngIf"],["slot","start",4,"ngIf"],[3,"color","click"],["slot","start",3,"click"],[3,"src"],["slot","start"]],template:function(t,e){1&t&&(b.Mb(0,"ion-header"),b.Mb(1,"ion-toolbar"),b.Mb(2,"ion-title"),b.mc(3),b.Xb(4,"translate"),b.Lb(),b.Lb(),b.Mb(5,"ion-toolbar"),b.Mb(6,"ion-searchbar",0),b.Ub("ngModelChange",function(t){return e.filterItem=t}),b.Xb(7,"translate"),b.Lb(),b.Lb(),b.Lb(),b.Mb(8,"ion-content"),b.Mb(9,"ion-header",1),b.Mb(10,"ion-toolbar"),b.Mb(11,"ion-title",2),b.mc(12),b.Xb(13,"translate"),b.Lb(),b.Lb(),b.Lb(),b.Mb(14,"ion-list"),b.kc(15,I,8,5,"ion-item",3),b.Xb(16,"filter"),b.Lb(),b.Lb()),2&t&&(b.zb(3),b.oc(" ",b.Yb(4,5,"TIMELINE.title")," "),b.zb(3),b.dc("placeholder",b.Yb(7,7,"TIMELINE.search")),b.cc("ngModel",e.filterItem),b.zb(6),b.oc(" ",b.Yb(13,9,"TIMELINE.title")," "),b.zb(3),b.cc("ngForOf",b.Zb(16,11,e.mediaItems,e.filterItem)))},directives:[c.n,c.y,c.x,c.t,c.C,s.d,s.e,c.k,c.r,r.h,c.p,r.i,c.q,c.d],pipes:[n.c,h],styles:[""]}),t})()}];let w=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({imports:[[a.i.forChild(M)],a.i]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.Hb({type:t}),t.\u0275inj=b.Gb({imports:[[c.z,r.b,s.a,w,n.b,f]]}),t})()}}]);